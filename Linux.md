### Linux常用命令

#### 几个常用命令

+ ls：查看当前目录系的内容
+ pwd：查看当前所在目录
+ cd [目录名]：切换目录
+ touch [文件名]：如果文件不存在，创建文件
+ mkdir[目录名]：创建目录
+ rm [文件名]：删除指定文件

#### Linux命令格式

command [-options] [parameter]

#### 文件目录操作命令

ls [-al] [dir]

+ -a 显示所有的文件及目录(.开头的隐藏文件也会列出)
+ -l 陈文件名称外，同时将文件形态(d表示目录，-表示文件)、权限、拥有者、文件大小等信息列出(简写：ll)

cd [dirName]

+ ~表示用户的home目录
+ .表示目前所在的目录
+ ..表示目前目录位置的上一级目录

cat [-n] fileName：用显示文件内容

+ -n 由1开始对所有输出的行号编号

more fileName：以分页的形式显示文件内容

+ 回车键：向下滚动一行
+ 空格键：向下滚动一屏
+ b：返回上一屏
+ q/Ctrl+C：退出more

tail [-f] fileName：查看文件末尾的内容

+ -f 动态读取文件末尾内容并显示，通常用于日志文件的内容输出

mkdir [-p] dirName

+ -p 确保目录名称存在，不存在的话就创建一个。通过此选项，可以实现多层目录同时创建

rmdir [-p] dirName：删除空目录

+ -p 当子目录被删除后使父目录为空目录的话，则一并删除

rm [-rf] name

+ -r 将目录及目录中的文件逐一删除，即递归删除
+ -f 无需确认，直接删除

cp [-r] sourse dest：用于复制文件或目录

+ -r 如果复制的是目录要使用此选项，此时将复制该目录下的所有子目录及文件

mv sourse dest：拷贝移动命令，为文件或目录改名，或将文件或目录移动到其他位置

tar [-zcxvf] fileName [files]：打包压缩命令，用于对文件进行打包、解包、压缩、解压

包文件后缀名为.tar表示只是完成了打包，并没有压缩

包文件后缀名为.tar.gz表示打包的同时还进行了压缩

+ -z z代表的是gzip，通过gzip命令处理文件，对文件压缩或解压
+ -c c代表create，创建新的包文件，打包
+ -x x代表extract，从包文件中还原文件，解包
+ -v 代表verbose，显示命令的执行过程
+ -f f代表file，用于指定包文件的名称

vi/vim fileName：文本编辑工具，用于对文件内容进行编辑

+ vim功能更强大，可以对文本内容进行着色，方便进行编辑处理
+ yum install vim：安装vim
+ 使用vim命令时，如果指定文件存在直接打开，如果不存在会新建文件
+ 文本编辑的三种模式：命令模式、插入模式、底行模式
+ 命令模式下可以查看文件内容、移动光标(上下左右箭头、gg、G)
+ 插入模式下可以对内容进行编辑，按[i,a,o]任意一个可进入，按esc退出
+ 底行模式可以通过命令对文件内容进行查找、显示行号、退出等操作，按[:,/]进入，通过/进入可对文件内容进行查找；通过:进入可输入wq(保存退出)、q!(不保存退出)、set nu(显示行号)

find dirName -option fileName：在指定目录下查找文件

grep word fileName：从指定文件中查找指定的文本内容

#### 常用快捷键

+ tab键自动补全
+ 双击tab键显示提示信息
+ 上下箭头切换之前的指令
+ clear/Ctrl+l清屏

#### Linux软件安装方式

1. 二进制发布包安装

软件已经针对具体平台编译打包发布，只要解压，修改配置即可。

2. rpm安装

软件按照redhat的包管理规范打包，使用rpm命令进行安装，不能自行解决库依赖问题。

3. yum安装

一种在线软件安装方式，本质上还是rpm安装，自动下载安装包并安装，自行解决库依赖问题。

4. 源码编译安装

软件以源码工程的形式发布，需自己编译打包

#### 安装jdk配置环境变量

+ 使用vim命令修改/etc/profile文件
+ 在文件末尾添加内容：

JAVA_HOME=/usr/local/jdk1.8.0_171

PATH=$JAVA_HOME/bin:$PATH

+ 重新加载profile文件，sourse /etc/profile
+ java -version

#### 进程查看命令

ps -ef：查看当前运行的所有进程的详细信息

#### chmod命令

控制用户对文件的权限的命令。

chmod [-cfvR] [--help] [--version] mode file...

- u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
- \+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。
- r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。

其他参数说明：

- -c : 若该文件权限确实已经更改，才显示其更改动作
- -f : 若该文件权限无法被更改也不要显示错误讯息
- -v : 显示权限变更的详细资料
- -R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)
- --help : 显示辅助说明
- --version : 显示版本

#### grep命令

用于查找文件里符合条件的字符串。

- **-a 或 --text** : 不要忽略二进制的数据。
- **-A<显示行数> 或 --after-context=<显示行数>** : 除了显示符合范本样式的那一列之外，并显示该行之后的内容。
- **-b 或 --byte-offset** : 在显示符合样式的那一行之前，标示出该行第一个字符的编号。
- **-B<显示行数> 或 --before-context=<显示行数>** : 除了显示符合样式的那一行之外，并显示该行之前的内容。
- **-c 或 --count** : 计算符合样式的列数。
- **-C<显示行数> 或 --context=<显示行数>或-<显示行数>** : 除了显示符合样式的那一行之外，并显示该行之前后的内容。
- **-d <动作> 或 --directories=<动作>** : 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。
- **-e<范本样式> 或 --regexp=<范本样式>** : 指定字符串做为查找文件内容的样式。
- **-E 或 --extended-regexp** : 将样式为延伸的正则表达式来使用。
- **-f<规则文件> 或 --file=<规则文件>** : 指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。
- **-F 或 --fixed-regexp** : 将样式视为固定字符串的列表。
- **-G 或 --basic-regexp** : 将样式视为普通的表示法来使用。
- **-h 或 --no-filename** : 在显示符合样式的那一行之前，不标示该行所属的文件名称。
- **-H 或 --with-filename** : 在显示符合样式的那一行之前，表示该行所属的文件名称。
- **-i 或 --ignore-case** : 忽略字符大小写的差别。
- **-l 或 --file-with-matches** : 列出文件内容符合指定的样式的文件名称。
- **-L 或 --files-without-match** : 列出文件内容不符合指定的样式的文件名称。
- **-n 或 --line-number** : 在显示符合样式的那一行之前，标示出该行的列数编号。
- **-o 或 --only-matching** : 只显示匹配PATTERN 部分。
- **-q 或 --quiet或--silent** : 不显示任何信息。
- **-r 或 --recursive** : 此参数的效果和指定"-d recurse"参数相同。
- **-s 或 --no-messages** : 不显示错误信息。
- **-v 或 --invert-match** : 显示不包含匹配文本的所有行。
- **-V 或 --version** : 显示版本信息。
- **-w 或 --word-regexp** : 只显示全字符合的列。
- **-x --line-regexp** : 只显示全列符合的列。
- **-y** : 此参数的效果和指定"-i"参数相同。

#### netstat命令

用于显示网络状态。

利用 netstat 指令可让你得知整个 Linux 系统的网络情况。

```shell
netstat [-acCeFghilMnNoprstuvVwx][-A<网络类型>][--ip]
```

**参数说明**：

- -a或--all 显示所有连线中的Socket。
- -A<网络类型>或--<网络类型> 列出该网络类型连线中的相关地址。
- -c或--continuous 持续列出网络状态。
- -C或--cache 显示路由器配置的快取信息。
- -e或--extend 显示网络其他相关信息。
- -F或--fib 显示路由缓存。
- -g或--groups 显示多重广播功能群组组员名单。
- -h或--help 在线帮助。
- -i或--interfaces 显示网络界面信息表单。
- -l或--listening 显示监控中的服务器的Socket。
- -M或--masquerade 显示伪装的网络连线。
- -n或--numeric 直接使用IP地址，而不通过域名服务器。
- -N或--netlink或--symbolic 显示网络硬件外围设备的符号连接名称。
- -o或--timers 显示计时器。
- -p或--programs 显示正在使用Socket的程序识别码和程序名称。
- -r或--route 显示Routing Table。
- -s或--statistics 显示网络工作信息统计表。
- -t或--tcp 显示TCP传输协议的连线状况。
- -u或--udp 显示UDP传输协议的连线状况。
- -v或--verbose 显示指令执行过程。
- -V或--version 显示版本信息。
- -w或--raw 显示RAW传输协议的连线状况。
- -x或--unix 此参数的效果和指定"-A unix"参数相同。
- --ip或--inet 此参数的效果和指定"-A inet"参数相同。

如：查看TCP 的连接状态：netstat -napt。

#### ping命令

用于检测主机。

执行 ping 指令会使用 ICMP 传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。

- -d 使用Socket的SO_DEBUG功能。
- -c <完成次数> 设置完成要求回应的次数。
- -f 极限检测。
- -i<间隔秒数> 指定收发信息的间隔时间。
- -I<网络界面> 使用指定的网络接口送出数据包。
- -l<前置载入> 设置在送出要求信息之前，先行发出的数据包。
- -n 只输出数值。
- -p<范本样式> 设置填满数据包的范本样式。
- -q 不显示指令执行过程，开头和结尾的相关信息除外。
- -r 忽略普通的Routing Table，直接将数据包送到远端主机上。
- -R 记录路由过程。
- -s<数据包大小> 设置数据包的大小。
- -t<存活数值> 设置存活数值TTL的大小。
- -v 详细显示指令的执行过程。
- -w <deadline> 在 deadline 秒后退出。
- -W <timeout> 在等待 timeout 秒后开始执行。

#### kill命令

用于删除执行中的程序或工作。

kill 可将指定的信息送至程序。预设的信息为 SIGTERM(15)，可将指定程序终止。若仍无法终止该程序，可使用 SIGKILL(9) 信息尝试强制删除程序。程序或工作的编号可利用 ps 指令或 jobs 指令查看。

```shell
kill [-s <信息名称或编号>][程序]　或　kill [-l <信息编号>]
```

**参数说明**：

- -l <信息编号> 　若不加<信息编号>选项，则 -l 参数会列出全部的信息名称。
- -s <信息名称或编号> 　指定要送出的信息。
- [程序] 　[程序]可以是程序的PID或是PGID，也可以是工作编号。

使用 kill -l 命令列出所有可用信号。

最常用的信号是：

- 1 (HUP)：重新加载进程。
- 9 (KILL)：杀死一个进程。
- 15 (TERM)：正常停止一个进程。

#### ps命令

用于显示当前进程的状态，类似于 windows 的任务管理器。

- ps 的参数非常多, 在此仅列出几个常用的参数并大略介绍含义
- -A 列出所有的进程
- -w 显示加宽可以显示较多的资讯
- -au 显示较详细的资讯
- -aux 显示所有包含其他使用者的进程

如：ps -ef | grep 进程关键字：查找指定进程

#### top命令

用于实时显示 process 的动态。

使用权限：所有使用者。

```shell
top [-] [d delay] [q] [c] [S] [s] [i] [n] [b]
```

- d : 改变显示的更新速度，或是在交谈式指令列( interactive command)按 s
- q : 没有任何延迟的显示速度，如果使用者是有 superuser 的权限，则 top 将会以最高的优先序执行
- c : 切换显示模式，共有两种模式，一是只显示执行档的名称，另一种是显示完整的路径与名称
- S : 累积模式，会将己完成或消失的子进程 ( dead child process ) 的 CPU time 累积起来
- s : 安全模式，将交谈式指令取消, 避免潜在的危机
- i : 不显示任何闲置 (idle) 或无用 (zombie) 的进程
- n : 更新的次数，完成后将会退出 top
- b : 批次档模式，搭配 "n" 参数一起使用，可以用来将 top 的结果输出到档案内
